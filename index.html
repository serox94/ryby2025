<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ryby 2025 DreamTeam</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.10/css/weather-icons.min.css">
  <style>
    body {
      background-image: url('tlo.jpg');
      background-size: cover;
      background-attachment: fixed;
      background-position: center;
      color: white;
      font-family: 'Segoe UI', sans-serif;
    }
    .box {
      background-color: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 15px;
      margin: 20px 0;
    }
    input, textarea {
      width: 100%;
      padding: 10px;
      margin: 5px 0;
    }
    textarea {
      resize: vertical;
    }
    img.icon, i.wi {
      width: 48px;
      vertical-align: middle;
    }
  </style>
</head>
<body class="container">
  <div class="text-center mt-4 box">
    <h1>Ryby 2025 DreamTeam</h1>
    <p id="datetime"></p>
  </div>

  <div class="box text-center">
    <h3>Odliczanie do startu</h3>
    <p id="countdown"></p>
  </div>

  <div class="box">
    <h4>Aktualna pogoda w Enschede</h4>
    <div id="weatherBox">Ładowanie danych pogodowych...</div>
  </div>

  <div class="box">
    <h4>Prognoza 1–7 czerwca 2025</h4>
    <ul id="forecastList">Ładowanie prognozy...</ul>
  </div>

  <div class="box">
    <h4>Mapa łowiska</h4>
    <a href="https://www.google.com/maps?q=Rutbekerveldweg+275,+7548+PP+Enschede" target="_blank">Otwórz mapę Google</a>
  </div>

  <div class="box">
    <h4>Kalendarz brań – kalkulator</h4>
    <div id="biteCalendar">Analiza danych...</div>
  </div>

  <div class="box">
    <h4>Harmonogram przynęt</h4>
    <div class="row">
      <div class="col-md-6">
        <h5>Maciek</h5>
        <textarea rows="10" placeholder="Godzina – Przynęta...\n">08:00–16:00 – Kulka 16mm truskawkowa\n</textarea>
      </div>
      <div class="col-md-6">
        <h5>Patryk</h5>
        <textarea rows="10" placeholder="Godzina – Przynęta...\n">08:00–16:00 – Kulka 16mm truskawkowa\n</textarea>
      </div>
    </div>
  </div>

  <div class="box">
    <h4>Dziennik połowów</h4>
    <div class="row">
      <div class="col-md-6">
        <h5>Maciek</h5>
        <textarea rows="12" placeholder="Data – Godzina – Gatunek – Waga – Przynęta\n"></textarea>
      </div>
      <div class="col-md-6">
        <h5>Patryk</h5>
        <textarea rows="12" placeholder="Data – Godzina – Gatunek – Waga – Przynęta\n"></textarea>
      </div>
    </div>
  </div>

  <div class="box">
    <h4>Alert pogodowy</h4>
    <div id="alertBox"></div>
  </div>

  <div class="box">
    <h4>Jak wiązać przypony karpiowe?</h4>
    <ul>
      <li><a href="https://www.youtube.com/watch?v=XZbz6HCl5dk" target="_blank">Przypon D-Rig</a></li>
      <li><a href="https://www.youtube.com/watch?v=sKtOtQa-jYc" target="_blank">Przypon Blowback</a></li>
      <li><a href="https://www.youtube.com/watch?v=3nQfqkW1MbM" target="_blank">Przypon Multi Rig</a></li>
      <li><a href="https://www.youtube.com/watch?v=Y64xwKPHuvg" target="_blank">Przypon Ronnie Rig</a></li>
      <li><a href="https://www.youtube.com/watch?v=C8c1dfrbJbE" target="_blank">Przypon Combi Rig</a></li>
      <li><a href="https://www.youtube.com/watch?v=w-HLO0V94gk" target="_blank">Wiązanie haczyków bez węzła (knotless knot)</a></li>
    </ul>
  </div>

  <div class="box">
    <h4>Deeper CHIRP+ – informacje</h4>
    <ul>
      <li><a href="https://www.deepersonar.com/pl/pl_pl/deeper-chirp-plus" target="_blank">Oficjalna strona produktu</a></li>
      <li><a href="https://www.youtube.com/watch?v=bZhnFRCJ_ug" target="_blank">Jak korzystać z Deeper CHIRP+</a></li>
      <li><a href="https://www.youtube.com/watch?v=v2bYQTA_vcU" target="_blank">Porady i ustawienia echosondy</a></li>
      <li><a href="https://www.youtube.com/watch?v=KL3AX8lXo3c" target="_blank">Tworzenie map batymetrycznych</a></li>
    </ul>
  </div>

  <script>
    const warunkiPL = {
      0: 'Bezchmurnie', 1: 'Głównie bezchmurnie', 2: 'Częściowo pochmurno', 3: 'Zachmurzenie całkowite',
      45: 'Mgła', 48: 'Osadzająca się mgła',
      51: 'Lekka mżawka', 53: 'Umiarkowana mżawka', 55: 'Gęsta mżawka',
      61: 'Lekki deszcz', 63: 'Umiarkowany deszcz', 65: 'Ulewne opady',
      71: 'Śnieg lekki', 73: 'Śnieg umiarkowany', 75: 'Obfite opady śniegu',
      80: 'Przelotne opady', 81: 'Umiarkowane przelotne', 82: 'Silne przelotne',
      95: 'Burza', 96: 'Burza z gradem', 99: 'Silna burza z gradem'
    };
    const dniPL = ['Niedziela', 'Poniedziałek', 'Wtorek', 'Środa', 'Czwartek', 'Piątek', 'Sobota'];

    fetch('https://api.open-meteo.com/v1/forecast?latitude=52.2184&longitude=6.8958&current=temperature_2m,relative_humidity_2m,pressure_msl,precipitation&daily=temperature_2m_max,temperature_2m_min,precipitation_probability_mean,weathercode&timezone=auto&start_date=2025-06-01&end_date=2025-06-07')
      .then(res => res.json())
      .then(data => {
        const current = data.current;
        document.getElementById("weatherBox").innerHTML = `
          <p><i class="wi wi-day-sunny"></i> Temperatura: ${current.temperature_2m}°C</p>
          <p><i class="wi wi-barometer"></i> Ciśnienie: ${current.pressure_msl} hPa</p>
          <p><i class="wi wi-humidity"></i> Wilgotność: ${current.relative_humidity_2m}%</p>
        `;

        const forecastList = document.getElementById("forecastList");
        forecastList.innerHTML = "";
        for (let i = 0; i < data.daily.time.length; i++) {
          const dateStr = data.daily.time[i];
          const date = new Date(dateStr);
          const day = dniPL[date.getDay()];
          const tmin = data.daily.temperature_2m_min[i];
          const tmax = data.daily.temperature_2m_max[i];
          const rain = data.daily.precipitation_probability_mean[i];
          const code = data.daily.weathercode[i];
          const opis = warunkiPL[code] || 'Pogoda';
          const ikona = code < 3 ? 'wi-day-sunny' : (code < 61 ? 'wi-cloudy' : 'wi-rain');

          forecastList.innerHTML += `<li><i class="wi ${ikona}"></i> ${day}, ${date.getDate()} czerwca: ${tmin}–${tmax}°C, Opady: ${rain}%, ${opis}</li>`;
        }
      })
      .catch(err => {
        console.error(err);
        document.getElementById("weatherBox").innerText = "Nie udało się załadować pogody.";
      });
  </script>
</body>
</html>
